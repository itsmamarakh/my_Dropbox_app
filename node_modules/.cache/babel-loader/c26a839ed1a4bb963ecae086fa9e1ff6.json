{"ast":null,"code":"import _slicedToArray from\"/Users/student/Desktop/My_dropbox-master/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useState}from'react';import{auth}from'../../firebase';import{jsx as _jsx}from\"react/jsx-runtime\";var AuthContext=/*#__PURE__*/React.createContext();export var useAuth=function useAuth(){return useContext(AuthContext);};var AuthStore=function AuthStore(_ref){var children=_ref.children;var _useState=useState(),_useState2=_slicedToArray(_useState,2),currentUser=_useState2[0],setCurrentUser=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var signUp=function signUp(email,password){return auth.createUserWithEmailAndPassword(email,password);};var signIn=function signIn(email,password){return auth.signInWithEmailAndPassword(email,password);};var logout=function logout(){return auth.signOut();};var resetPassword=function resetPassword(email){return auth.sendPasswordResetEmail(email);};var updateEmail=function updateEmail(email){return currentUser.updateEmail(email);};var updatePassword=function updatePassword(password){return currentUser.updatePassword(password);};useEffect(function(){var unsubscribe=auth.onAuthStateChanged(function(user){setCurrentUser(user);setLoading(false);});return unsubscribe;},[]);var value={currentUser:currentUser,signUp:signUp,signIn:signIn,logout:logout,resetPassword:resetPassword,updateEmail:updateEmail,updatePassword:updatePassword};return/*#__PURE__*/_jsx(AuthContext.Provider,{value:value,children:!loading&&children});};export default AuthStore;","map":{"version":3,"names":["React","useContext","useEffect","useState","auth","AuthContext","createContext","useAuth","AuthStore","children","currentUser","setCurrentUser","loading","setLoading","signUp","email","password","createUserWithEmailAndPassword","signIn","signInWithEmailAndPassword","logout","signOut","resetPassword","sendPasswordResetEmail","updateEmail","updatePassword","unsubscribe","onAuthStateChanged","user","value"],"sources":["/Users/student/Desktop/My_dropbox-master/src/components/store/AuthStore.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { auth } from '../../firebase';\n\nconst AuthContext = React.createContext();\n\nexport const useAuth = () => {\n    return useContext(AuthContext);\n}\n\nconst AuthStore = ({ children }) => {\n    const [currentUser, setCurrentUser] = useState();\n    const [loading, setLoading] = useState(true);\n\n    const signUp = (email, password) => {\n        return auth.createUserWithEmailAndPassword(email, password);\n    }\n\n    const signIn = (email, password) => {\n        return auth.signInWithEmailAndPassword(email, password);\n    }\n\n    const logout = () => {\n        return auth.signOut();\n    }\n\n    const resetPassword = (email) => {\n        return auth.sendPasswordResetEmail(email);\n    }\n\n    const updateEmail = (email) => {\n        return currentUser.updateEmail(email);\n    }\n\n    const updatePassword = (password) => {\n        return currentUser.updatePassword(password);\n    }\n\n    useEffect(() => {\n        const unsubscribe = auth.onAuthStateChanged(user => {\n            setCurrentUser(user);\n            setLoading(false);\n        })\n\n        return unsubscribe;\n    }, [])\n\n    const value = {\n        currentUser,\n        signUp,\n        signIn,\n        logout,\n        resetPassword,\n        updateEmail,\n        updatePassword\n    }\n\n    return (\n        <AuthContext.Provider value={value}>\n            { !loading && children }\n        </AuthContext.Provider>\n    );\n};\n\nexport default AuthStore;"],"mappings":"8HAAA,MAAOA,MAAP,EAAgBC,UAAhB,CAA4BC,SAA5B,CAAuCC,QAAvC,KAAuD,OAAvD,CACA,OAASC,IAAT,KAAqB,gBAArB,C,2CAEA,GAAMC,YAAW,cAAGL,KAAK,CAACM,aAAN,EAApB,CAEA,MAAO,IAAMC,QAAO,CAAG,QAAVA,QAAU,EAAM,CACzB,MAAON,WAAU,CAACI,WAAD,CAAjB,CACH,CAFM,CAIP,GAAMG,UAAS,CAAG,QAAZA,UAAY,MAAkB,IAAfC,SAAe,MAAfA,QAAe,CAChC,cAAsCN,QAAQ,EAA9C,wCAAOO,WAAP,eAAoBC,cAApB,eACA,eAA8BR,QAAQ,CAAC,IAAD,CAAtC,yCAAOS,OAAP,eAAgBC,UAAhB,eAEA,GAAMC,OAAM,CAAG,QAATA,OAAS,CAACC,KAAD,CAAQC,QAAR,CAAqB,CAChC,MAAOZ,KAAI,CAACa,8BAAL,CAAoCF,KAApC,CAA2CC,QAA3C,CAAP,CACH,CAFD,CAIA,GAAME,OAAM,CAAG,QAATA,OAAS,CAACH,KAAD,CAAQC,QAAR,CAAqB,CAChC,MAAOZ,KAAI,CAACe,0BAAL,CAAgCJ,KAAhC,CAAuCC,QAAvC,CAAP,CACH,CAFD,CAIA,GAAMI,OAAM,CAAG,QAATA,OAAS,EAAM,CACjB,MAAOhB,KAAI,CAACiB,OAAL,EAAP,CACH,CAFD,CAIA,GAAMC,cAAa,CAAG,QAAhBA,cAAgB,CAACP,KAAD,CAAW,CAC7B,MAAOX,KAAI,CAACmB,sBAAL,CAA4BR,KAA5B,CAAP,CACH,CAFD,CAIA,GAAMS,YAAW,CAAG,QAAdA,YAAc,CAACT,KAAD,CAAW,CAC3B,MAAOL,YAAW,CAACc,WAAZ,CAAwBT,KAAxB,CAAP,CACH,CAFD,CAIA,GAAMU,eAAc,CAAG,QAAjBA,eAAiB,CAACT,QAAD,CAAc,CACjC,MAAON,YAAW,CAACe,cAAZ,CAA2BT,QAA3B,CAAP,CACH,CAFD,CAIAd,SAAS,CAAC,UAAM,CACZ,GAAMwB,YAAW,CAAGtB,IAAI,CAACuB,kBAAL,CAAwB,SAAAC,IAAI,CAAI,CAChDjB,cAAc,CAACiB,IAAD,CAAd,CACAf,UAAU,CAAC,KAAD,CAAV,CACH,CAHmB,CAApB,CAKA,MAAOa,YAAP,CACH,CAPQ,CAON,EAPM,CAAT,CASA,GAAMG,MAAK,CAAG,CACVnB,WAAW,CAAXA,WADU,CAEVI,MAAM,CAANA,MAFU,CAGVI,MAAM,CAANA,MAHU,CAIVE,MAAM,CAANA,MAJU,CAKVE,aAAa,CAAbA,aALU,CAMVE,WAAW,CAAXA,WANU,CAOVC,cAAc,CAAdA,cAPU,CAAd,CAUA,mBACI,KAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAEI,KAA7B,UACM,CAACjB,OAAD,EAAYH,QADlB,EADJ,CAKH,CApDD,CAsDA,cAAeD,UAAf"},"metadata":{},"sourceType":"module"}