{"ast":null,"code":"import _toConsumableArray from\"/Users/student/Desktop/My_dropbox-master/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/student/Desktop/My_dropbox-master/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{FolderPlusIcon}from'@heroicons/react/20/solid';import ConfirmAddFolder from'./modals/ConfirmAddFolder';import{useAuth}from'./../store/AuthStore';import{database}from'../../firebase';import{ROOT_FOLDER}from'./../hooks/useFolder';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AddFolderBtn=function AddFolderBtn(_ref){var currentFolder=_ref.currentFolder;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useAuth=useAuth(),currentUser=_useAuth.currentUser;var createFolder=function createFolder(name){if(name.trim()){if(!currentFolder)return;var path=_toConsumableArray(currentFolder.path);if(currentFolder!==ROOT_FOLDER){path.push({name:currentFolder.name,id:currentFolder.id});}database.folders.add({name:name,parentId:currentFolder.id,userId:currentUser.uid,path:path,createdAt:database.getCurrentTimestamp()});}setOpen(false);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setOpen(true);},className:\"flex bg-green-800 rounded  justify-center items-center hover:bg-gray-900 hover:text-white py-2 px-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-white flex items-center px-4 py-1 w-full font-base\",children:[/*#__PURE__*/_jsx(FolderPlusIcon,{className:\"h-5 w-5 mr-1\",\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Create Folder\"})]})}),/*#__PURE__*/_jsx(ConfirmAddFolder,{open:open,setOpen:setOpen,handleSubmit:createFolder})]});};export default AddFolderBtn;","map":{"version":3,"names":["React","useState","FolderPlusIcon","ConfirmAddFolder","useAuth","database","ROOT_FOLDER","AddFolderBtn","currentFolder","open","setOpen","currentUser","createFolder","name","trim","path","push","id","folders","add","parentId","userId","uid","createdAt","getCurrentTimestamp"],"sources":["/Users/student/Desktop/My_dropbox-master/src/components/storage/AddFolderBtn.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { FolderPlusIcon } from '@heroicons/react/20/solid';\nimport ConfirmAddFolder from './modals/ConfirmAddFolder';\nimport { useAuth } from './../store/AuthStore';\nimport { database } from '../../firebase';\nimport { ROOT_FOLDER } from './../hooks/useFolder';\n\nconst AddFolderBtn = ({ currentFolder }) => {\n    const [open, setOpen] = useState(false);\n    const { currentUser } = useAuth();\n\n    const createFolder = (name) => {\n        if(name.trim()) {\n            if(!currentFolder) return\n            const path = [...currentFolder.path];\n\n            if(currentFolder !== ROOT_FOLDER) {\n                path.push({\n                    name: currentFolder.name,\n                    id: currentFolder.id\n                });\n            }\n\n            database.folders.add({\n                name: name,\n                parentId: currentFolder.id,\n                userId: currentUser.uid,\n                path: path,\n                createdAt: database.getCurrentTimestamp(),\n            })\n        }\n\n        setOpen(false);\n    }\n\n    return (\n        <>\n            <button onClick={() => setOpen(true)} className=\"flex bg-green-800 rounded  justify-center items-center hover:bg-gray-900 hover:text-white py-2 px-1\">\n                <div className=\"text-white flex items-center px-4 py-1 w-full font-base\">\n                    <FolderPlusIcon\n                        className=\"h-5 w-5 mr-1\"\n                        aria-hidden=\"true\"\n                    />\n                    <span>Create Folder</span>\n                </div>\n            </button>\n            <ConfirmAddFolder open={open} setOpen={setOpen} handleSubmit={createFolder}/>\n        </>\n    );\n};\n\nexport default AddFolderBtn;\n"],"mappings":"oQAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,cAAT,KAA+B,2BAA/B,CACA,MAAOC,iBAAP,KAA6B,2BAA7B,CACA,OAASC,OAAT,KAAwB,sBAAxB,CACA,OAASC,QAAT,KAAyB,gBAAzB,CACA,OAASC,WAAT,KAA4B,sBAA5B,C,6IAEA,GAAMC,aAAY,CAAG,QAAfA,aAAe,MAAuB,IAApBC,cAAoB,MAApBA,aAAoB,CACxC,cAAwBP,QAAQ,CAAC,KAAD,CAAhC,wCAAOQ,IAAP,eAAaC,OAAb,eACA,aAAwBN,OAAO,EAA/B,CAAQO,WAAR,UAAQA,WAAR,CAEA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACC,IAAD,CAAU,CAC3B,GAAGA,IAAI,CAACC,IAAL,EAAH,CAAgB,CACZ,GAAG,CAACN,aAAJ,CAAmB,OACnB,GAAMO,KAAI,oBAAOP,aAAa,CAACO,IAArB,CAAV,CAEA,GAAGP,aAAa,GAAKF,WAArB,CAAkC,CAC9BS,IAAI,CAACC,IAAL,CAAU,CACNH,IAAI,CAAEL,aAAa,CAACK,IADd,CAENI,EAAE,CAAET,aAAa,CAACS,EAFZ,CAAV,EAIH,CAEDZ,QAAQ,CAACa,OAAT,CAAiBC,GAAjB,CAAqB,CACjBN,IAAI,CAAEA,IADW,CAEjBO,QAAQ,CAAEZ,aAAa,CAACS,EAFP,CAGjBI,MAAM,CAAEV,WAAW,CAACW,GAHH,CAIjBP,IAAI,CAAEA,IAJW,CAKjBQ,SAAS,CAAElB,QAAQ,CAACmB,mBAAT,EALM,CAArB,EAOH,CAEDd,OAAO,CAAC,KAAD,CAAP,CACH,CAtBD,CAwBA,mBACI,wCACI,eAAQ,OAAO,CAAE,yBAAMA,QAAO,CAAC,IAAD,CAAb,EAAjB,CAAsC,SAAS,CAAC,qGAAhD,uBACI,aAAK,SAAS,CAAC,yDAAf,wBACI,KAAC,cAAD,EACI,SAAS,CAAC,cADd,CAEI,cAAY,MAFhB,EADJ,cAKI,uCALJ,GADJ,EADJ,cAUI,KAAC,gBAAD,EAAkB,IAAI,CAAED,IAAxB,CAA8B,OAAO,CAAEC,OAAvC,CAAgD,YAAY,CAAEE,YAA9D,EAVJ,GADJ,CAcH,CA1CD,CA4CA,cAAeL,aAAf"},"metadata":{},"sourceType":"module"}